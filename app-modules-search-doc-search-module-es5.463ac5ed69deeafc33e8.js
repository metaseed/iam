function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"2pae":function(e,t,n){"use strict";n.r(t),n.d(t,"DocSearchModule",(function(){return T}));var c,r=n("btWG"),a=n("pbDB"),i=n("tyNb"),o=n("fXoL"),s=n("NFeN"),u=((c=function(){function e(){_classCallCheck(this,e),this.search=new o.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onSearch",value:function(e){this.search.emit(e.trim())}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=o.Hb({type:c,selectors:[["iam-doc-search-bar"]],outputs:{search:"search"},decls:4,vars:0,consts:[[1,"doc-search"],[1,"search-icon"],["autofocus","","matInput","","action-bar-flex","","type","text","placeholder","Search...",1,"input-lg","search-input",3,"keyup"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"mat-icon",1),o.Ac(2,"search"),o.Sb(),o.Tb(3,"input",2),o.ac("keyup",(function(e){return t.onSearch(e.target.value)})),o.Sb(),o.Sb())},directives:[s.a],styles:[".doc-search[_ngcontent-%COMP%]{height:4rem;padding-left:1rem;font-size:1.4rem;display:flex;flex:1;background:#fff}.doc-search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:auto}.doc-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;font-family:RobotoRegular;width:auto;max-width:none;display:inline-block;border:0;padding:.25rem .5rem;margin:0}"]}),c),l=n("Kj3r"),f=n("/uUt"),h=n("vkgz"),d=n("kt0X"),m=n("ZqIn"),b=n("ofXK"),p=n("Wp6s");function g(e,t){if(1&e&&o.Ob(0,"div",3),2&e){var n=t.$implicit,c=o.ec();o.jc("innerHTML",c.getMatches(n),o.sc)}}var y,v=((y=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"onClick",value:function(e){this.router.navigate(["/doc"],{queryParams:{id:this.item.id,title:this.item.title,f:"md"}})}},{key:"getMatches",value:function(e){var t=e.fragment,n="",c=0;return e.matches.forEach((function(e){var r=e.indices;n+=t.substr(c,r[0]-c),n+="<em>".concat(e.text,"</em>"),c=r[1]})),n+=t.substr(c)}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||y)(o.Nb(i.f))},y.\u0275cmp=o.Hb({type:y,selectors:[["doc-search-item"]],inputs:{item:"item"},decls:9,vars:3,consts:[[3,"click"],[2,"text-decoration","none"],["class","fragment",3,"innerHTML",4,"ngFor","ngForOf"],[1,"fragment",3,"innerHTML"]],template:function(e,t){1&e&&(o.Tb(0,"mat-card"),o.Tb(1,"mat-card-header",0),o.ac("click",(function(e){return t.onClick(e)})),o.Tb(2,"a",1),o.Tb(3,"mat-card-title"),o.Ac(4),o.Sb(),o.Tb(5,"mat-card-subtitle"),o.Ac(6),o.Sb(),o.Sb(),o.Sb(),o.Tb(7,"mat-card-content"),o.zc(8,g,1,1,"div",2),o.Sb(),o.Sb()),2&e&&(o.Ab(4),o.Bc(t.item.title),o.Ab(2),o.Cc(" ",t.item.score,""),o.Ab(2),o.jc("ngForOf",t.item.text_matches))},directives:[p.a,p.f,p.m,p.l,p.d,b.s],styles:[".fragment[_ngcontent-%COMP%]{white-space:pre-wrap}.fragment[_ngcontent-%COMP%]     em{background:#ff0}[_nghost-%COMP%]{display:inline-block;max-width:1000px;width:100%;display:flex}mat-card[_ngcontent-%COMP%]{width:100%;margin-top:3px}"]}),y);function C(e,t){1&e&&o.Ob(0,"doc-search-item",4),2&e&&o.jc("item",t.$implicit)}var k,w,_,O=function(e){return{container:e}},x=function(e){return[e]},S=[{path:"",component:(k=function(){function e(t){_classCallCheck(this,e),this._store=t,this.searchResult$=this._store.select(r.selectSearchResultState),this.trackByFunc=function(e,t){return t.id}}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.docSearchComponent.search.pipe(Object(l.a)(300),Object(f.a)(),Object(h.a)((function(t){""!==t.trim()&&e._store.dispatch(new r.DocumentEffectsSearch({query:t}))}))).subscribe()}},{key:"onSearch",value:function(e){}}]),e}(),k.\u0275fac=function(e){return new(e||k)(o.Nb(d.c))},k.\u0275cmp=o.Hb({type:k,selectors:[["doc-search-list"]],viewQuery:function(e,t){var n;1&e&&o.Ec(u,!0),2&e&&o.oc(n=o.bc())&&(t.docSearchComponent=n.first)},decls:5,vars:9,consts:[["clickToggleEnable","false",3,"scrollHide"],[1,"search-result"],["search",""],[3,"item",4,"ngFor","ngForOf","ngForTrackBy"],[3,"item"]],template:function(e,t){if(1&e&&(o.Ob(0,"iam-doc-search-bar",0),o.Tb(1,"div",1,2),o.zc(3,C,1,1,"doc-search-item",3),o.fc(4,"async"),o.Sb()),2&e){var n=o.pc(2);o.jc("scrollHide",o.mc(7,x,o.mc(5,O,n))),o.Ab(3),o.jc("ngForOf",o.gc(4,3,t.searchResult$))("ngForTrackBy",t.trackByFunc)}},directives:[u,m.a,b.s,v],pipes:[b.b],styles:["[_nghost-%COMP%]{max-width:400px;width:100%}.search-result[_ngcontent-%COMP%]{overflow:auto;display:flex;flex-flow:row wrap;box-sizing:border-box;justify-content:space-around;height:calc(100vh - 50px);margin-bottom:50px}"]}),k)}],M=((w=function e(){_classCallCheck(this,e)}).\u0275mod=o.Lb({type:w}),w.\u0275inj=o.Kb({factory:function(e){return new(e||w)},imports:[[i.j.forChild(S)],i.j]}),w),P=n("P1ng"),T=((_=function e(){_classCallCheck(this,e)}).\u0275mod=o.Lb({type:_}),_.\u0275inj=o.Kb({factory:function(e){return new(e||_)},providers:[a.a],imports:[[r.SharedModule,P.a,M]]}),_)}}]);