"use strict";(self.webpackChunkiam=self.webpackChunkiam||[]).push([["src_app_modules_markdown_viewer_elements_code_code-example_module_ts"],{74791:function(t,e,i){i.r(e),i.d(e,{CodeExampleModule:function(){return v}});var n=i(7395),o=i(17215),s=i(87517),r=i(79659),a=i(75997),c=i(6028),p=i(19078),d=i(62987),h=i(37340);let l=(()=>{class t{constructor(t){this.logger=t,this.prettyPrintOne=(0,a.Dp)(this.getPrettyPrintOne()).pipe((0,c.B)())}getPrettyPrintOne(){const t=window.prettyPrintOne;return t?Promise.resolve(t):i.e("src_assets_js_prettify_js").then(i.t.bind(i,64263,23)).then(()=>window.prettyPrintOne,t=>{const e=`Cannot get prettify.js from server: ${t.message}`;return this.logger.error(new Error(e)),()=>{throw new Error(e)}})}formatCode(t,e,i){return this.prettyPrintOne.pipe((0,p.U)(n=>{try{return n(t,e,i)}catch(o){const e=`Could not format code that begins '${t.substr(0,50)}...'.`;throw console.error(e,o),new Error(e)}}),(0,d.P)())}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(h.Yd))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();var u=i(81494);const g=["codeContainer"];function m(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",3),o.NdJ("click",function(){return o.CHM(t),o.oxw().doCopy()}),o._uU(1,"\n        "),o.TgZ(2,"span",4),o._uU(3,"content_copy"),o.qZA(),o._uU(4,"\n      "),o.qZA()}if(2&t){const t=o.oxw();o.uIk("aria-label",t.ariaLabel)}}let y=(()=>{class t{constructor(t,e,i,n){this.snackbar=t,this.pretty=e,this.copier=i,this.logger=n,this.ariaLabel="",this.codeFormatted=new o.vpe}set code(t){this._code=t,this._code&&this._code.trim()?this.formatDisplayedCode():this.showMissingCodeMessage()}get code(){return this._code}set title(t){this._title=t,this.ariaLabel=this.title?`Copy code snippet from ${this.title}`:""}get title(){return this._title}ngOnChanges(){this.code&&this.formatDisplayedCode()}formatDisplayedCode(){const t=function(t){let e=Number.MAX_VALUE;const i=t.split("\n");return i.forEach(t=>{const i=t.search(/\S/);-1!==i&&(e=Math.min(i,e))}),i.map(t=>t.substr(e)).join("\n").trim()}(this.code);this.setCodeHtml(t),this.codeText=this.getCodeText(),this.pretty.formatCode(t,this.language,this.getLinenums(t)).pipe((0,s.b)(()=>this.codeFormatted.emit())).subscribe(t=>this.setCodeHtml(t),t=>{})}showMissingCodeMessage(){const t=this.path?this.path+(this.region?"#"+this.region:""):"";this.setCodeHtml(`<p class="code-missing">The code sample is missing${t?` for\n${t}`:"."}</p>`)}setCodeHtml(t){this.codeContainer.nativeElement.innerHTML=t}getCodeText(){return this.codeContainer.nativeElement.textContent}doCopy(){const t=this.codeText;this.copier.copyText(t)?(this.logger.log("Copied code to clipboard:",t),this.snackbar.open("Code Copied","",{duration:800})):(this.logger.error(new Error(`ERROR copying code to clipboard: "${t}"`)),this.snackbar.open("Copy failed. Please try again!","",{duration:800}))}getLinenums(t){const e="boolean"==typeof this.linenums?this.linenums:"true"===this.linenums||"false"!==this.linenums&&("string"==typeof this.linenums?parseInt(this.linenums,10):this.linenums);return null==e||isNaN(e)?(t.match(/\n/g)||[]).length>10:e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.ux),o.Y36(l),o.Y36(u.u),o.Y36(h.Yd))},t.\u0275cmp=o.Xpm({type:t,selectors:[["iam-code"]],viewQuery:function(t,e){if(1&t&&o.Gf(g,5),2&t){let t;o.iGM(t=o.CRH())&&(e.codeContainer=t.first)}},inputs:{hideCopy:"hideCopy",language:"language",linenums:"linenums",path:"path",region:"region",title:"title"},outputs:{codeFormatted:"codeFormatted"},features:[o.TTD],decls:7,vars:4,consts:[["class","material-icons copy-button no-print","title","Copy code snippet",3,"click",4,"ngIf"],[1,"animated","fadeIn"],["codeContainer",""],["title","Copy code snippet",1,"material-icons","copy-button","no-print",3,"click"],["aria-hidden","true"]],template:function(t,e){1&t&&(o.TgZ(0,"pre"),o._uU(1,"      "),o.YNc(2,m,5,1,"button",0),o._uU(3,"\n      "),o._UZ(4,"code",1,2),o._uU(6,"\n    "),o.qZA()),2&t&&(o.Gre("prettyprint lang-",e.language,""),o.xp6(2),o.Q6J("ngIf",!e.hideCopy))},directives:[n.O5],encapsulation:2}),t})();const f=["content"];function C(t,e){if(1&t&&(o.TgZ(0,"header"),o._uU(1),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.Oqu(t.title)}}const _=["*"];let w=(()=>{class t{constructor(){this._path="",this.isAvoid=!1}set title(t){this._title=t,this.classes={"headed-code":!!this.title,"simple-code":!this.title}}get title(){return this._title}set path(t){this._path=t,this.isAvoid=-1!==this.path.indexOf(".avoid.")}get path(){return this._path}set hidecopy(t){this._hidecopy=null!=t&&"false"!=`${t}`}get hidecopy(){return this._hidecopy}set hyphenatedHideCopy(t){this.hidecopy=t}set capitalizedHideCopy(t){this.hidecopy=t}ngAfterViewInit(){this.icode.code=this.content.nativeElement.innerHTML}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["i-code"]],viewQuery:function(t,e){if(1&t&&(o.Gf(f,5),o.Gf(y,5)),2&t){let t;o.iGM(t=o.CRH())&&(e.content=t.first),o.iGM(t=o.CRH())&&(e.icode=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&o.ekj("avoidFile",e.isAvoid)},inputs:{language:"language",linenums:"linenums",region:"region",title:"title",path:"path",hidecopy:"hidecopy",hyphenatedHideCopy:["hide-copy","hyphenatedHideCopy"],capitalizedHideCopy:["hideCopy","capitalizedHideCopy"]},ngContentSelectors:_,decls:5,vars:8,consts:[[2,"display","none"],["content",""],[4,"ngIf"],[3,"ngClass","language","linenums","path","region","hideCopy","title"]],template:function(t,e){1&t&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o.YNc(3,C,2,1,"header",2),o._UZ(4,"iam-code",3)),2&t&&(o.xp6(3),o.Q6J("ngIf",e.title),o.xp6(1),o.Q6J("ngClass",e.classes)("language",e.language)("linenums",e.linenums)("path",e.path)("region",e.region)("hideCopy",e.hidecopy)("title",e.title))},directives:[n.O5,y,n.mk],encapsulation:2}),t})(),b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[l,u.u],imports:[[n.ez,r.ZX]]}),t})(),v=(()=>{class t{constructor(){this.customElementComponent=w}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,b]]}),t})()}}]);