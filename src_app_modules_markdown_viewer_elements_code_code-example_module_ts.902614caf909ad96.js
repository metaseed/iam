"use strict";(self.webpackChunkiam=self.webpackChunkiam||[]).push([["src_app_modules_markdown_viewer_elements_code_code-example_module_ts"],{9261:(Z,m,s)=>{s.r(m),s.d(m,{CodeExampleModule:()=>d});var p=s(7011),t=s(5281),f=s(2538),y=s(2785),v=s(9372),E=s(3329),T=s(6801),x=s(4117),u=s(4852);class a{constructor(e){this.logger=e,this.prettyPrintOne=(0,v.D)(this.getPrettyPrintOne()).pipe((0,E.B)())}getPrettyPrintOne(){const e=window.prettyPrintOne;return e?Promise.resolve(e):s.e("src_assets_js_prettify_js").then(s.t.bind(s,3863,23)).then(()=>window.prettyPrintOne,n=>{const i=`Cannot get prettify.js from server: ${n.message}`;return this.logger.error(new Error(i)),()=>{throw new Error(i)}})}formatCode(e,n,i){return this.prettyPrintOne.pipe((0,T.U)(r=>{try{return r(e,n,i)}catch(O){const C=`Could not format code that begins '${e.substr(0,50)}...'.`;throw console.error(C,O),new Error(C)}}),(0,x.P)())}}a.\u0275fac=function(e){return new(e||a)(t.LFG(u.$V))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac});var g=s(1494);const M=["codeContainer"];function H(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"button",3),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.doCopy())}),t._uU(1,"\n        "),t.TgZ(2,"span",4),t._uU(3,"content_copy"),t.qZA(),t._uU(4,"\n      "),t.qZA()}if(2&o){const n=t.oxw();t.uIk("aria-label",n.ariaLabel)}}class c{constructor(e,n,i,r){this.snackbar=e,this.pretty=n,this.copier=i,this.logger=r,this.ariaLabel="",this.codeFormatted=new t.vpe}set code(e){this._code=e,this._code&&this._code.trim()?this.formatDisplayedCode():this.showMissingCodeMessage()}get code(){return this._code}set title(e){this._title=e,this.ariaLabel=this.title?`Copy code snippet from ${this.title}`:""}get title(){return this._title}ngOnChanges(){this.code&&this.formatDisplayedCode()}formatDisplayedCode(){const e=function P(o){let e=Number.MAX_VALUE;const n=o.split("\n");return n.forEach(i=>{const r=i.search(/\S/);-1!==r&&(e=Math.min(r,e))}),n.map(i=>i.substr(e)).join("\n").trim()}(this.code);this.setCodeHtml(e),this.codeText=this.getCodeText(),this.pretty.formatCode(e,this.language,this.getLinenums(e)).pipe((0,f.b)(()=>this.codeFormatted.emit())).subscribe(n=>this.setCodeHtml(n),n=>{})}showMissingCodeMessage(){const e=this.path?this.path+(this.region?"#"+this.region:""):"";this.setCodeHtml(`<p class="code-missing">The code sample is missing${e?` for\n${e}`:"."}</p>`)}setCodeHtml(e){this.codeContainer.nativeElement.innerHTML=e}getCodeText(){return this.codeContainer.nativeElement.textContent}doCopy(){const e=this.codeText;this.copier.copyText(e)?(this.logger.log("Copied code to clipboard:",e),this.snackbar.open("Code Copied","",{duration:800})):(this.logger.error(new Error(`ERROR copying code to clipboard: "${e}"`)),this.snackbar.open("Copy failed. Please try again!","",{duration:800}))}getLinenums(e){const n="boolean"==typeof this.linenums?this.linenums:"true"===this.linenums||"false"!==this.linenums&&("string"==typeof this.linenums?parseInt(this.linenums,10):this.linenums);return null==n||isNaN(n)?(e.match(/\n/g)||[]).length>10:n}}c.\u0275fac=function(e){return new(e||c)(t.Y36(y.ux),t.Y36(a),t.Y36(g.u),t.Y36(u.$V))},c.\u0275cmp=t.Xpm({type:c,selectors:[["iam-code"]],viewQuery:function(e,n){if(1&e&&t.Gf(M,5),2&e){let i;t.iGM(i=t.CRH())&&(n.codeContainer=i.first)}},inputs:{hideCopy:"hideCopy",language:"language",linenums:"linenums",path:"path",region:"region",title:"title"},outputs:{codeFormatted:"codeFormatted"},features:[t.TTD],decls:7,vars:4,consts:[["class","material-icons copy-button no-print","title","Copy code snippet",3,"click",4,"ngIf"],[1,"animated","fadeIn"],["codeContainer",""],["title","Copy code snippet",1,"material-icons","copy-button","no-print",3,"click"],["aria-hidden","true"]],template:function(e,n){1&e&&(t.TgZ(0,"pre"),t._uU(1,"      "),t.YNc(2,H,5,1,"button",0),t._uU(3,"\n      "),t._UZ(4,"code",1,2),t._uU(6,"\n    "),t.qZA()),2&e&&(t.Gre("prettyprint lang-",n.language,""),t.xp6(2),t.Q6J("ngIf",!n.hideCopy))},dependencies:[p.O5],encapsulation:2});const F=["content"];function U(o,e){if(1&o&&(t.TgZ(0,"header"),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Oqu(n.title)}}class h{constructor(){this._path="",this.isAvoid=!1}set title(e){this._title=e,this.classes={"headed-code":!!this.title,"simple-code":!this.title}}get title(){return this._title}set path(e){this._path=e,this.isAvoid=-1!==this.path.indexOf(".avoid.")}get path(){return this._path}set hidecopy(e){this._hidecopy=null!=e&&"false"!=`${e}`}get hidecopy(){return this._hidecopy}set hyphenatedHideCopy(e){this.hidecopy=e}set capitalizedHideCopy(e){this.hidecopy=e}ngAfterViewInit(){this.icode.code=this.content.nativeElement.innerHTML}}h.\u0275fac=function(e){return new(e||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["i-code"]],viewQuery:function(e,n){if(1&e&&(t.Gf(F,5),t.Gf(c,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.content=i.first),t.iGM(i=t.CRH())&&(n.icode=i.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("avoidFile",n.isAvoid)},inputs:{language:"language",linenums:"linenums",region:"region",title:"title",path:"path",hidecopy:"hidecopy",hyphenatedHideCopy:["hide-copy","hyphenatedHideCopy"],capitalizedHideCopy:["hideCopy","capitalizedHideCopy"]},ngContentSelectors:["*"],decls:5,vars:8,consts:[[2,"display","none"],["content",""],[4,"ngIf"],[3,"ngClass","language","linenums","path","region","hideCopy","title"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA(),t.YNc(3,U,2,1,"header",2),t._UZ(4,"iam-code",3)),2&e&&(t.xp6(3),t.Q6J("ngIf",n.title),t.xp6(1),t.Q6J("ngClass",n.classes)("language",n.language)("linenums",n.linenums)("path",n.path)("region",n.region)("hideCopy",n.hidecopy)("title",n.title))},dependencies:[p.mk,p.O5,c],encapsulation:2});var w=s(3346);class l{}l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[a,g.u],imports:[p.ez,w.q]});class d{constructor(){this.customElementComponent=h}}d.\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.oAB({type:d}),d.\u0275inj=t.cJS({imports:[p.ez,l]})}}]);