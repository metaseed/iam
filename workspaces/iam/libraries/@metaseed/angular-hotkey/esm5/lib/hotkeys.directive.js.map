{
  "version": 3,
  "file": "hotkeys.directive.js",
  "sources": [
    "ng://@metaseed/angular-hotkey/projects/angular-hotkey/src/lib/hotkeys.directive.ts"
  ],
  "sourcesContent": [
    "import {Directive, Input, OnInit, OnDestroy, ElementRef} from '@angular/core';\nimport {Hotkey, ExtendedKeyboardEvent} from './hotkey.model';\nimport {HotkeysService} from './hotkeys.service';\nimport 'mousetrap';\n\n@Directive({\n    selector : '[hotkeys]',\n    providers : [HotkeysService]\n})\nexport class HotkeysDirective implements OnInit, OnDestroy {\n    @Input() hotkeys: {[combo: string]: (event: KeyboardEvent, combo: string) => ExtendedKeyboardEvent}[];\n\n    private mousetrap: MousetrapInstance;\n    private hotkeysList: Hotkey[] = [];\n    private oldHotkeys: Hotkey[] = [];\n\n    constructor(private _hotkeysService: HotkeysService, private _elementRef: ElementRef) {\n        this.mousetrap = new Mousetrap(this._elementRef.nativeElement); // Bind hotkeys to the current element (and any children)\n    }\n\n    ngOnInit() {\n        for (let hotkey of this.hotkeys) {\n            let combo = Object.keys(hotkey)[0];\n            let hotkeyObj: Hotkey = new Hotkey(combo, hotkey[combo]);\n            let oldHotkey: Hotkey = <Hotkey>this._hotkeysService.get(combo);\n            if(oldHotkey !== null) { // We let the user overwrite callbacks temporarily if you specify it in HTML\n                this.oldHotkeys.push(oldHotkey);\n                this._hotkeysService.remove(oldHotkey);\n            }\n            this.hotkeysList.push(hotkeyObj);\n            this.mousetrap.bind(hotkeyObj.combo, hotkeyObj.callback);\n        }\n    }\n\n    ngOnDestroy() {\n        for (let hotkey of this.hotkeysList) {\n            this.mousetrap.unbind(hotkey.combo);\n        }\n        this._hotkeysService.add(this.oldHotkeys);\n    }\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"
  ],
  "names": [],
  "mappings": ";;;;AAAA,OAAO,EAAC,SAAS,EAAE,KAAK,EAAqB,UAAU,EAAC,MAAM,eAAe,CAAC;AAC9E,OAAO,EAAC,MAAM,EAAwB,MAAM,gBAAgB,CAAC;AAC7D,OAAO,EAAC,cAAc,EAAC,MAAM,mBAAmB,CAAC;AACjD,OAAO,WAAW,CAAC;AAMnB,MAAM;;;;;IAOF,YAAoB,eAA+B,EAAU,WAAuB;QAAhE,oBAAe,GAAf,eAAe,CAAgB;QAAU,gBAAW,GAAX,WAAW,CAAY;2BAHpD,EAAE;0BACH,EAAE;QAG7B,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;KAClE;;;;IAED,QAAQ;QACJ,GAAG,CAAC,CAAC,qBAAI,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAC9B,qBAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,qBAAI,SAAS,GAAW,IAAI,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YACzD,qBAAI,SAAS,qBAAmB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA,CAAC;YAChE,EAAE,CAAA,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;;gBACpB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAChC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;aAC1C;YACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,QAAQ,CAAC,CAAC;SAC5D;KACJ;;;;IAED,WAAW;QACP,GAAG,CAAC,CAAC,qBAAI,MAAM,IAAI,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SACvC;QACD,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC7C;;;YAlCJ,SAAS,SAAC;gBACP,QAAQ,EAAG,WAAW;gBACtB,SAAS,EAAG,CAAC,cAAc,CAAC;aAC/B;;;;YANO,cAAc;YAFuB,UAAU;;;wBAUlD,KAAK"
}
