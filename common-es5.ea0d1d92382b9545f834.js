function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var c,a=e[Symbol.iterator]();!(i=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(s){o=!0,r=s}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"4T9E":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l}));var i=function(e){return e.EditMode="[Document] edit mode",e.ViewMode="[Document] view mode",e.ShowPreview="[Document] show preview",e.Refresh="[Document] Refresh",e.HidePreview="[Document] hide preview",e.EditIt="[Document] edit it",e}({}),o=function e(){_classCallCheck(this,e),this.type=i.EditMode},r=function e(){_classCallCheck(this,e),this.type=i.ViewMode},c=function e(){_classCallCheck(this,e),this.type=i.ShowPreview},a=function e(){_classCallCheck(this,e),this.type=i.HidePreview},s=function e(){_classCallCheck(this,e),this.type=i.Refresh},l=function e(t){_classCallCheck(this,e),this.payload=t,this.type=i.EditIt}},"71SZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("q/PB"),o=n("sGad"),r=n("kt0X"),c=n("ZTXN"),a=n("g6G6"),s=n("Efrr"),l=n("btWG"),u=n("was7"),d=n("kuMc"),f=n("YtkY"),h=n("A2S1"),p=n("TLy2"),b=n("uYpP"),v=n("fXoL"),m=n("dNgK"),w=n("ofXK"),g=["viewContainerDiv"];function y(e,t){if(1&e&&v.Rb(0,"ms-reading-position-indicator",7),2&e){v.hc();var n=v.sc(8);v.mc("element",n)}}var k=function(e){return{container$:e}},C=function(e){return[e]},O=function(){var e=function(){function e(t,n,p,b,v,m){var w=this;_classCallCheck(this,e),this.store=t,this.snackBar=n,this.markdownService=p,this.ngZone=b,this._docRef=v,this._location=m,this.destroy$=new c.a,this.DocumentMode=u.a,this.docMode$=this.store.pipe(Object(r.k)(o.h)),this.editWithView$=this.store.pipe(Object(r.k)(o.i)),this.defaultTimeoutHandler=function(e){return w.snackBar.open(e.message,"ok",{duration:i.p})},this.isScrollDown$=this.store.select(o.k).pipe(Object(d.a)(this.destroy$)).subscribe((function(e){var t=e.isScrollDown;null!==t&&w.viewerContainerDiv&&(t?w.viewerContainerDiv.nativeElement.scrollTop+=50:w.viewerContainerDiv.nativeElement.scrollTop-=50)})),this.isLoadDone$=Object(a.a)(Object(l.q)(this.store,l.c.ReadDocument,i.r,this.defaultTimeoutHandler).pipe(Object(f.a)((function(e){return e.isNotStartStatus()}))),Object(l.p)(this.store,l.c.Create).pipe(Object(f.a)((function(e){return e.isNotStartStatus()})))).pipe(Object(d.a)(this.destroy$),Object(h.b)(s.a))}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this;this.container=new i.e(this.viewerContainerDiv.nativeElement,void 0,void 0,this.ngZone),this.viewerContainerDiv.nativeElement.focus(),this.scrollDown$=this.container.scrollDown$,this.markdownService.viewer$.next(this.container),setTimeout((function(t){return e.scroll()}),500);var n=0;this.isLockScrollWithView$=this.store.pipe(Object(r.k)(o.j)),this.isLockScrollWithView$.pipe(Object(d.a)(this.destroy$)).subscribe((function(t){e.isLockScrollWithView=t})),this.markdownService.editor$.pipe(Object(d.a)(this.destroy$),Object(p.a)((function(e){return e.scrollDown$}))).subscribe((function(i){if(e.isLockScrollWithView&&i.event){var o=i.event.target,r=o.scrollTop/(o.scrollHeight-o.clientHeight),c=r-n;n=r;var a=t.viewerContainerDiv.nativeElement;t.viewerContainerDiv.nativeElement.scrollTop+=(a.scrollHeight-a.clientHeight)*c}})),this.viewerContainerDiv.nativeElement.addEventListener("edit-it",(function(t){e.store.dispatch(new o.a(t.detail))}))}},{key:"scroll",value:function(){var e=this.getCurrentHash();if(e){var t=this._docRef.document.getElementById(e);if(!t)return;t.scrollIntoView(),this.viewerContainerDiv.nativeElement.scrollTop=t.offsetTop-64}}},{key:"getCurrentHash",value:function(){return decodeURIComponent(this._location.hash.replace(/^#/,""))}},{key:"ngOnDestroy",value:function(){this.destroy$.next()}},{key:"swipe",value:function(e){var t=e.target,n="",i=0;do{n=t.getAttribute("data-source-lines"),t=t.parentElement}while(!n&&t&&i++<4);this.store.dispatch(new o.a({sourceLine:JSON.parse(n)}))}},{key:"swipeLeft",value:function(e){this.swipe(e)}},{key:"swipeRight",value:function(e){this.swipe(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(v.Qb(r.c),v.Qb(m.c),v.Qb(b.a),v.Qb(v.z),v.Qb(i.n),v.Qb(w.D))},e.\u0275cmp=v.Kb({type:e,selectors:[["markdown-viewer-container"]],viewQuery:function(e,t){var n;1&e&&v.Hc(g,!0),2&e&&v.rc(n=v.ec())&&(t.viewerContainerDiv=n.first)},inputs:{markdown$:"markdown$",hideToolbar:"hideToolbar"},decls:11,vars:17,consts:[[3,"scrollHide","hide"],[3,"element",4,"ngIf"],[3,"isRunning"],[2,"position","relative","height","100%"],[1,"viewer-container"],["viewContainerDiv",""],[1,"markdown-viewer",3,"model","swipeleft","swiperight"],[3,"element"]],template:function(e,t){if(1&e&&(v.Rb(0,"ms-viewer-toolbar",0),v.ic(1,"async"),v.Cc(2,y,1,1,"ms-reading-position-indicator",1),v.ic(3,"async"),v.Rb(4,"sk-three-bounce",2),v.ic(5,"async"),v.Vb(6,"div",3),v.Vb(7,"div",4,5),v.Vb(9,"markdown-viewer",6),v.dc("swipeleft",(function(e){return t.swipeLeft(e)}))("swiperight",(function(e){return t.swipeRight(e)})),v.ic(10,"async"),v.Ub(),v.Ub(),v.Ub()),2&e){var n,i=null==(n=v.jc(3,7,t.scrollDown$))?null:n.isDown;v.mc("scrollHide",v.pc(15,C,v.pc(13,k,t.markdownService.viewer$)))("hide",v.jc(1,5,t.docMode$)!==t.DocumentMode.View),v.Cb(2),v.mc("ngIf",i),v.Cb(2),v.mc("isRunning",!v.jc(5,9,t.isLoadDone$)),v.Cb(5),v.mc("model",v.jc(10,11,t.markdown$))}},styles:[".viewer-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:auto;padding:0 3px;height:100%}@media (min-width:960px){.viewer-container[_ngcontent-%COMP%]{padding:0 16px}}.markdown-viewer[_ngcontent-%COMP%]{max-width:1000px;margin:auto}.markdown-viewer[_ngcontent-%COMP%]:focus{outline:none}"]}),e}()},G5Nz:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("kuMc"),o=n("yCv1"),r=n("jIqt"),c=n("ZTXN"),a=n("vT4p"),s=n("HM3f"),l=n("0MNC"),u=n("fXoL"),d=n("q/PB"),f=n("javO"),h=n("ofXK"),p=n("NFeN"),b=["tocItem"];function v(e,t){1&e&&(u.Vb(0,"div",10),u.Dc(1,"Contents"),u.Ub())}function m(e,t){if(1&e){var n=u.Wb();u.Vb(0,"button",11),u.dc("click",(function(){return u.uc(n),u.hc(3).toggle(!1)})),u.Dc(1," Contents "),u.Rb(2,"mat-icon",12),u.Ub()}if(2&e){var i=u.hc(3);u.Db("aria-pressed",!i.isCollapsed),u.Cb(2),u.Gb("collapsed",i.isCollapsed)}}function w(e,t){if(1&e){var n=u.Wb();u.Vb(0,"li",14,15),u.Vb(2,"div",16),u.dc("click",(function(){u.uc(n);var e=u.hc().$implicit;return u.hc(3).navigate(e.href)})),u.Rb(3,"a",17),u.Ub(),u.Ub()}if(2&e){var i=u.hc(),o=i.$implicit,r=i.index,c=u.hc(3);u.Eb(o.level),u.Gb("secondary","EmbeddedExpandable"===c.type&&r>=c.primaryMax)("active",r===c.activeIndex),u.nc("title",o.title),u.Cb(3),u.mc("href",o.href,u.wc)("innerHTML",o.content,u.vc)}}function g(e,t){if(1&e&&(u.Tb(0),u.Cc(1,w,4,10,"li",13),u.Sb()),2&e){var n=t.$implicit,i=u.hc(3);u.Cb(1),u.mc("ngIf","Floating"===i.type||"h1"!==n.level)}}function y(e,t){if(1&e){var n=u.Wb();u.Vb(0,"button",18),u.dc("click",(function(){return u.uc(n),u.hc(3).toggle()})),u.Ub()}if(2&e){var i=u.hc(3);u.Gb("collapsed",i.isCollapsed),u.Db("aria-pressed",!i.isCollapsed)}}function k(e,t){if(1&e&&(u.Vb(0,"div",4),u.Cc(1,v,2,0,"div",5),u.Cc(2,m,3,3,"button",6),u.Vb(3,"ul",7),u.Cc(4,g,2,1,"ng-container",8),u.Ub(),u.Cc(5,y,1,3,"button",9),u.Ub()),2&e){var n=u.hc(2);u.Gb("collapsed",n.isCollapsed),u.Cb(1),u.mc("ngIf","EmbeddedSimple"===n.type),u.Cb(1),u.mc("ngIf","EmbeddedExpandable"===n.type),u.Cb(1),u.Gb("embedded","Floating"!==n.type),u.Cb(1),u.mc("ngForOf",n.tocList),u.Cb(1),u.mc("ngIf","EmbeddedExpandable"===n.type)}}function C(e,t){if(1&e&&(u.Vb(0,"div",2),u.Cc(1,k,6,8,"div",3),u.Ub()),2&e){var n=u.hc();u.Cb(1),u.mc("ngIf","None"!==n.type)}}function O(e,t){if(1&e){var n=u.Wb();u.Vb(0,"button",19),u.dc("click",(function(){return u.uc(n),u.hc().toggleToc()})),u.Dc(1," TOC\n"),u.Ub()}}var S=function(){var e=function(){function e(t,n,i,o,r){var a=this;_classCallCheck(this,e),this.bm=t,this.scrollService=n,this.tocService=i,this.elementRef=o,this.location=r,this.activeIndex=null,this.type="None",this.show=!0,this.isCollapsed=!0,this.isEmbedded=!1,this.onDestroy=new c.a,this.primaryMax=4,t.observe([l.b.Small,l.b.XSmall]).subscribe((function(e){e.matches?(a.show=!1,a.isSmallScreen=!0):(a.show=!0,a.isSmallScreen=!1)})),this.isEmbedded=-1!==o.nativeElement.className.indexOf("embedded")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.tocService.tocList.pipe(Object(i.a)(this.onDestroy),Object(o.a)(a.a)).subscribe((function(t){var n,i=(n=function(e){return"h1"!==e.level},t.reduce((function(e,t){return n(t)?e+1:e}),0));e.type=i>0?e.isEmbedded?i>e.primaryMax?"EmbeddedExpandable":"EmbeddedSimple":"Floating":"None",e.tocList=t}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.isEmbedded||Object(s.b)(this.tocService.activeItemIndex$.pipe(Object(o.a)(a.a)),this.items.changes.pipe(Object(r.a)(this.items))).pipe(Object(i.a)(this.onDestroy)).subscribe((function(t){var n=_slicedToArray(t,2),i=n[0],o=n[1];if(e.activeIndex=i,!(null==i||i>=o.length)){var r=o.toArray()[i].nativeElement,c=r.offsetParent;if(c){var a=r.getBoundingClientRect(),s=c.getBoundingClientRect();a.top>=s.top&&a.bottom<=s.bottom||(c.scrollTop+=a.top-(s.top+c.clientHeight/2))}}}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"toggle",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isCollapsed=!this.isCollapsed,e&&this.isCollapsed&&this.toTop()}},{key:"onClick",value:function(e){this.elementRef.nativeElement.contains(e.target)||(this.show=!1)}},{key:"navigate",value:function(e){this.isSmallScreen&&(this.show=!1)}},{key:"toTop",value:function(){this.scrollService.scrollToTop()}},{key:"toggleToc",value:function(){this.show=!this.show}}],[{key:"prepareTitleAndToc",value:function(e,t,n,i){var o=e.querySelector("h1"),r=!!o&&!/no-?toc/i.test(o.className),c=e.querySelector("i-toc.embedded");return r&&!c?o.insertAdjacentHTML("afterend","<i-toc></i-toc>"):!r&&c&&c.remove(),function(){n.reset(),o&&r&&n.genToc(e,t)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Qb(l.a),u.Qb(d.t),u.Qb(f.a),u.Qb(u.l),u.Qb(h.n))},e.\u0275cmp=u.Kb({type:e,selectors:[["i-toc"]],viewQuery:function(e,t){var n;1&e&&u.Hc(b,!0),2&e&&u.rc(n=u.ec())&&(t.items=n)},hostBindings:function(e,t){1&e&&u.dc("click",(function(e){return t.onClick(e)}),!1,u.tc)},decls:2,vars:2,consts:[["class","toc-container no-print",4,"ngIf"],["style","color:#ffffffcc;background-color: #c1c1c1aa;cursor:pointer;z-index:100;position:fixed;right:6px;bottom:30px;",3,"click",4,"ngIf"],[1,"toc-container","no-print"],["class","toc-inner no-print",3,"collapsed",4,"ngIf"],[1,"toc-inner","no-print"],["class","toc-heading embedded",4,"ngIf"],["type","button","class","toc-heading embedded secondary","title","Expand/collapse contents","aria-label","Expand/collapse contents",3,"click",4,"ngIf"],[1,"toc-list"],[4,"ngFor","ngForOf"],["type","button","class","toc-more-items embedded material-icons","title","Expand/collapse contents","aria-label","Expand/collapse contents",3,"collapsed","click",4,"ngIf"],[1,"toc-heading","embedded"],["type","button","title","Expand/collapse contents","aria-label","Expand/collapse contents",1,"toc-heading","embedded","secondary",3,"click"],["svgIcon","keyboard_arrow_right",1,"rotating-icon"],[3,"title","class","secondary","active",4,"ngIf"],[3,"title"],["tocItem",""],[2,"display","inline-block",3,"click"],[3,"href","innerHTML"],["type","button","title","Expand/collapse contents","aria-label","Expand/collapse contents",1,"toc-more-items","embedded","material-icons",3,"click"],[2,"color","#ffffffcc","background-color","#c1c1c1aa","cursor","pointer","z-index","100","position","fixed","right","6px","bottom","30px",3,"click"]],template:function(e,t){1&e&&(u.Cc(0,C,2,1,"div",0),u.Cc(1,O,2,0,"button",1)),2&e&&(u.mc("ngIf",t.show),u.Cb(1),u.mc("ngIf",t.tocService.isScrollUp))},directives:[h.t,h.s,p.a],encapsulation:2}),e}()},Kq4L:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));var i=function(e){return e.Save="[Edit] Save",e.LockScrollWithView="[Edit] Lock Scroll With View",e.EditorLoaded="[Edit] Editor Loaded",e.EditorUnloaded="[Edit] Editor Unloaded",e}({}),o=function e(t){_classCallCheck(this,e),this.payload=t,this.type=i.Save},r=function e(t){_classCallCheck(this,e),this.payload=t,this.type=i.LockScrollWithView}},fnmL:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("FU6l"),o=n("HM3f"),r=n("GoAz");function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var c=null;return"function"==typeof t[t.length-1]&&(c=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(r.a)([e].concat(_toConsumableArray(t))),new o.a(c))}}},javO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("QQZH"),o=n("ofXK"),r=n("fXoL"),c=n("jhN1"),a=n("q/PB"),s=function(){var e=function(){function e(t,n,o){_classCallCheck(this,e),this.document=t,this.domSanitizer=n,this.scrollSpyService=o,this.tocList=new i.a(1),this.activeItemIndex$=new i.a(1),this.activeElement$=new i.a(1),this.scrollSpyToken=null,this.isScrollUp=!1}return _createClass(e,[{key:"genToc",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(this.resetScrollSpyInfo(),e){var i=this.findTocHeadings(e),o=new Map,r=i.map((function(e){return{content:t.extractHeadingSafeHtml(e),href:"".concat(n,"#").concat(t.getId(e,o)),level:e.tagName.toLowerCase(),title:(e.textContent||"").trim()}}));this.tocList.next(r),this.scrollSpyToken=this.scrollSpyService.spyOn(i,e,60),this.scrollSpyToken.activeScrollElement$.subscribe((function(e){t.activeItemIndex$.next(null==e?void 0:e.index),t.activeElement$.next(null==e?void 0:e.element)})),this.scrollSpyToken.isScrollDown$.subscribe((function(e){t.isScrollUp=!e.isDown}))}else this.tocList.next([])}},{key:"reset",value:function(){this.resetScrollSpyInfo(),this.tocList.next([])}},{key:"extractHeadingSafeHtml",value:function(e){var t=this.document.createElement("div");t.innerHTML=e.innerHTML;for(var n=t.querySelectorAll("a"),i=0;i<n.length;i++){var o=n[i];if(!o.classList.contains("deep-link")&&!o.classList.contains("edit-it"))for(var r=o.parentNode;o.childNodes.length;)r.insertBefore(o.childNodes[0],o);o.remove()}return this.domSanitizer.bypassSecurityTrustHtml(t.innerHTML.trim())}},{key:"findTocHeadings",value:function(e){var t=e.querySelectorAll("h1,h2,h3");return Array.prototype.filter.call(t,(function(e){return!/(?:no-toc|notoc)/i.test(e.className)}))}},{key:"resetScrollSpyInfo",value:function(){this.scrollSpyToken&&(this.scrollSpyToken.unSpy(),this.scrollSpyToken=null),this.activeItemIndex$.next(null),this.activeElement$.next(null)}},{key:"getId",value:function(e,t){var n=e.id;return n?i(n):(n=i(n=(e.textContent||"").trim().toLowerCase().replace(/\W+/g,"-")),e.id=n),n;function i(e){var n=(t.get(e)||0)+1;return t.set(e,n),1===n?e:"".concat(e,"-").concat(n)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.e),r.Zb(c.b),r.Zb(a.u))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac}),e}()},nJwD:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i=n("4T9E"),o=n("ofXK"),r=n("kuMc"),c=n("YtkY"),a=n("fnmL"),s=n("xVbo"),l=n("8j5Y"),u=n("J+dc"),d=n("q/PB"),f=n("kt0X"),h=n("sGad"),p=n("was7"),b=n("71SZ"),v=n("ZTXN"),m=n("g6G6"),w=n("btWG"),g=n("uYpP"),y=n("fXoL"),k=n("tk/3"),C=n("tyNb"),O=n("ZYfY"),S=n("103i"),j=["viewerDiv"],_=["editorDiv"],E=function(){var e=function(){function e(t,n,o,s,l,u,d,b){var w=this;_classCallCheck(this,e),this.markdownService=t,this._http=n,this.baseHref=o,this.changeDetecorRef=s,this.route=l,this.router=u,this.store=d,this.utils=b,this.fixEditButton=!1,this.destroy$=new v.a,this.docMode$=this.store.pipe(Object(f.k)(h.h),Object(r.a)(this.destroy$)),this.showEdit$=this.docMode$.pipe(Object(c.a)((function(e){return e===p.a.Edit}))),this.isScreenWide$=this.utils.isScreenWide$,this.showView$=Object(m.a)(this.showEdit$.pipe(Object(a.a)(this.isScreenWide$),Object(c.a)((function(e){var t=_slicedToArray(e,2),n=t[0],o=t[1];return n&&!o?(w.store.dispatch(new i.d),!1):(w.store.dispatch(new i.f),!0)}))),this.store.select(h.i))}return _createClass(e,[{key:"ngOnInit",value:function(){this.markdown$=Object(m.a)(this.store.select(w.w).pipe(Object(s.a)((function(e){return e&&!e.isUpdateMeta})),Object(c.a)((function(e){return e&&e.content?e.content.content:""}))),this.markdownService.editorContentChanged$).pipe(Object(d.z)(80,1e3))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new w.k({id:void 0})),this.destroy$.next()}},{key:"ngAfterViewChecked",value:function(){this.changeDetecorRef.detectChanges()}},{key:"ngAfterViewInit",value:function(){var e=this;this.route.queryParamMap.pipe(Object(l.a)((function(t){if(e.router.url.startsWith("/doc/new")){var n=t.get("f");e.store.dispatch(new w.d({format:n})),e.store.dispatch(new i.c)}else{var o=t.get("title"),r=+t.get("id"),c=t.get("f");e.store.dispatch(new w.f({id:r,title:o,format:c}))}})),Object(u.a)(1)).subscribe()}},{key:"showDemo",value:function(){this._http.get(this.baseHref+"assets/markdown.md",{responseType:"text"}).subscribe((function(){}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(y.Qb(g.a),y.Qb(k.b),y.Qb(o.a),y.Qb(y.h),y.Qb(C.a),y.Qb(C.f),y.Qb(f.c),y.Qb(O.a))},e.\u0275cmp=y.Kb({type:e,selectors:[["ms-markdown"]],viewQuery:function(e,t){var n;1&e&&(y.Hc(b.a,!0),y.Hc(j,!0),y.Hc(_,!0)),2&e&&(y.rc(n=y.ec())&&(t.viewer=n.first),y.rc(n=y.ec())&&(t.viewerDiv=n.first),y.rc(n=y.ec())&&(t.editorDiv=n.first))},decls:10,vars:9,consts:[[1,"markdown-container"],["primary-component-minsize","100","secondary-component-minsize","100","local-storage-key","iam-md-split-pane","primary-component-initialratio","0.5",3,"primary-component-toggled-off","secondary-component-toggled-off"],[1,"split-pane-content-primary"],["editorDiv",""],[1,"split-pane-content-secondary"],["viewerDiv",""],[3,"markdown$"]],template:function(e,t){1&e&&(y.Vb(0,"div",0),y.Vb(1,"vertical-split-pane",1),y.ic(2,"async"),y.ic(3,"async"),y.Vb(4,"div",2,3),y.Rb(6,"router-outlet"),y.Ub(),y.Vb(7,"div",4,5),y.Rb(9,"markdown-viewer-container",6),y.Ub(),y.Ub(),y.Ub()),2&e&&(y.Gb("fullscreen",t.isFullScreen),y.Cb(1),y.mc("primary-component-toggled-off",!y.jc(2,5,t.showEdit$))("secondary-component-toggled-off",!y.jc(3,7,t.showView$)),y.Cb(8),y.mc("markdown$",t.markdown$))},directives:[S.a,C.k,b.a],pipes:[o.b],styles:['.markdown-container[_ngcontent-%COMP%]   .md-footer[_ngcontent-%COMP%]{padding:2px;background-color:#f0f0f0;border-top:1px solid rgba(0,0,0,.1)}.markdown-container.fullscreen[_ngcontent-%COMP%]{margin:0;position:fixed;border:0;top:0;left:0;width:100%;height:100%;z-index:99999999}.split-pane-content-secondary[_ngcontent-%COMP%]{height:100%}.markdown-container.fullscreen[_ngcontent-%COMP%]   .md-editor-panel[_ngcontent-%COMP%], .markdown-container.fullscreen[_ngcontent-%COMP%]   .md-view-panel[_ngcontent-%COMP%]{height:calc(100vh - 40px)!important}.markdown-container[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:first-child:before{content:" ";background-color:#a9a9a9;width:1px;height:24px;left:-9px;top:2px;position:absolute}.markdown-container[_ngcontent-%COMP%]{height:100vh;overflow:hidden}.markdown-container[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn-group.hide-split[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:first-child:before{display:none}.markdown-container[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:0}.markdown-container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%]{display:flex}.markdown-container[_ngcontent-%COMP%]   .editor-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 0;width:0;min-height:200px}']}),e}()},sGad:function(e,t,n){"use strict";n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return y.c})),n.d(t,"c",(function(){return y.g})),n.d(t,"a",(function(){return y.b})),n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d}));var i=n("kt0X"),o=function(e){return e.Scroll="[View] Scroll",e}({}),r=function e(t){_classCallCheck(this,e),this.payload=t,this.type=o.Scroll},c={isScrollDown:null},a=n("was7"),s=n("Kq4L"),l={save:"",lockScrollWithView:!1,editor:void 0,content:void 0},u="markdown",d={document:a.e,edit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.a.Save:return Object.assign(Object.assign({},e),{save:t.payload});case s.a.LockScrollWithView:return Object.assign(Object.assign({},e),{lockScrollWithView:t.payload});default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.Scroll:return Object.assign(Object.assign({},e),{isScrollDown:t.payload.isScrollDown});default:return e}}},f=Object(i.i)(u),h=Object(i.j)(f,(function(e){return e.document})),p=Object(i.j)(h,a.c),b=Object(i.j)(h,a.d),v=Object(i.j)(h,a.b),m=Object(i.j)(f,(function(e){return e.edit})),w=(Object(i.j)(m,(function(e){return e.save})),Object(i.j)(m,(function(e){return e.lockScrollWithView}))),g=Object(i.j)(f,(function(e){return e.view}));Object(i.j)(g,(function(e){return e.isScrollDown}));var y=n("4T9E")},uYpP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=new(n("fXoL").q)("MARKDOWN_SERVICE_TOKEN")},was7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l}));var i=n("4T9E"),o=function(e){return e[e.View=0]="View",e[e.Edit=1]="Edit",e}({}),r={mode:o.View,showPreview:null};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a.EditMode:return document.iamMarkdownIsPureViewMode=!1,Object.assign(Object.assign({},e),{mode:o.Edit});case i.a.ViewMode:return document.iamMarkdownIsPureViewMode=!0,Object.assign(Object.assign({},e),{mode:o.View});case i.a.ShowPreview:return Object.assign(Object.assign({},e),{showPreview:!0});case i.a.HidePreview:return Object.assign(Object.assign({},e),{showPreview:!1});case i.a.EditIt:return Object.assign(Object.assign({},e),{editIt:t.payload});default:return e}}var a=function(e){return e.mode},s=function(e){return e.showPreview},l=function(e){return e.editIt}}}]);